import{f as E,bn as U,a4 as p,bo as H,D as h,h as x,E as K,o as _,c as M,a as e,b as o,q as $,v as a,H as O,r as P,A as q,t as r,j as l,k as m,n as z,K as W}from"./index-CW21LfwU.js";import{a as j,s as F}from"./index-C0IBe5FA.js";import{s as G}from"./index-Diq0yfHp.js";import{_ as J}from"./VCard.vue_vue_type_script_setup_true_lang-BEXAQp5x.js";import{_ as Q}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-BjwNYmRP.js";import{_ as X}from"./PageLoader-CZ-Kt3Ck.js";import{_ as Z}from"./VNavbar.vue_vue_type_script_setup_true_lang-14B8tRi_.js";import{u as ee}from"./index-Bco5Uctx.js";import{t as y}from"./helpers-BF5XYaOm.js";import"./index-By7NwKG_.js";import"./index-D1yCMm1e.js";import"./index-Bl-tvBni.js";import"./index-C-BpVv3R.js";import"./index-DIdFwiiu.js";import"./index-CfSZgD9B.js";const te={class:"mt-2"},ae={key:2,class:"md:h-[calc(100dvh-8.5rem)] md:overflow-y-auto"},se={class:"grid gap-2 md:grid-cols-3"},ne={class:"text-2xl font-semibold text-right"},oe={class:"text-2xl font-semibold text-right"},re={class:"text-2xl font-semibold text-right"},ie={class:"text-2xl font-semibold text-right"},de={class:"text-2xl font-semibold text-right"},le={class:"text-2xl font-semibold text-right"},ce={class:"w-full overflow-auto"},me={class:"w-full overflow-auto"},ue={class:"text-sm font-medium"},Ie=E({__name:"DashboardView",setup(_e){const f=q(),Y=U("ddd, MMMM DD, YYYY HH:mm:ss aa"),I=p(H(),Y),g=h(()=>I.value.split(" ")),S=h(()=>{const s=g.value;return`${s[0]} ${s[1]} ${s[2]} ${s[3]}`}),k=h(()=>{const s=g.value;return`${s[4]} ${s[5]}`}),b=x(!1),v=x(),i=x(),w=async()=>{await ee("admin/dashboard",{loading:b,error:v,config:{router:f,cache:!0}},s=>{i.value=s})};function D(s){return s==="deposit"?{icon:"arrow_circle_down",color:"text-primary-500"}:s==="withdrawal"?{icon:"arrow_circle_up",color:"text-red-500"}:s==="investment"?{icon:"spa",color:"text-green-500"}:{icon:"payments",color:"text-green-500"}}function R(s){return s==="successful"?"success":s==="pending"?"warn":"danger"}function N(s){return s==="open"?"success":s==="closed"?"info":"danger"}return K(async()=>{await w()}),(s,u)=>{const V=Z,A=X,L=Q,d=J,c=P("RouterLink"),n=j,C=G,T=F,B=W;return _(),M("div",null,[e(V),o("div",te,[b.value?(_(),$(A,{key:0})):v.value?(_(),$(L,{key:1,error:v.value,request:"GET",onRetry:w},null,8,["error"])):i.value?(_(),M("div",ae,[o("div",se,[e(c,{to:{name:"admin-users"}},{default:a(()=>[e(d,{header:"Users"},{default:a(()=>[o("div",ne,r(i.value.usersCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-users"}},{default:a(()=>[e(d,{header:"Admins"},{default:a(()=>[o("div",oe,r(i.value.adminsCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-investments"}},{default:a(()=>[e(d,{header:"Open Investments"},{default:a(()=>[o("div",re,r(i.value.openInvestmentsCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-currencies"}},{default:a(()=>[e(d,{header:"Currencies"},{default:a(()=>[o("div",ie,r(i.value.currenciesCount),1)]),_:1})]),_:1}),e(c,{to:{name:"admin-investment-plans"}},{default:a(()=>[e(d,{header:"Investment Plans"},{default:a(()=>[o("div",de,r(i.value.investmentPlansCount),1)]),_:1})]),_:1}),e(d,{header:S.value},{default:a(()=>[o("div",le,r(k.value),1)]),_:1},8,["header"])]),e(d,{header:"Recent Investments",class:"mt-2"},{default:a(()=>[o("div",ce,[e(T,{value:i.value.recentInvestments,selectionMode:"single",dataKey:"id",onRowSelect:u[0]||(u[0]=t=>l(f).push({name:"admin-investment",params:{investmentId:t.data.id}})),class:"text-sm min-w-[70rem]"},{default:a(()=>[e(n,{field:"investmentName",header:"Investment"}),e(n,{field:"investmentTier",header:"Tier"}),e(n,{header:"Status"},{body:a(({data:t})=>[e(C,{class:"text-xs font-semibold",severity:N(t.status),value:l(y)(t.status)},null,8,["severity","value"])]),_:1}),e(n,{field:"user.name",header:"User"}),e(n,{field:"amount",header:"Amount"},{body:a(({data:t})=>[m(" $"+r(t.initialDeposit.toLocaleString()),1)]),_:1}),e(n,{field:"duration",header:"Duration (days)"}),e(n,{field:"daysCompleted",header:"Days Completed (days)"}),e(n,{header:"Created On"},{body:a(({data:t})=>[m(r(l(p)(new Date(t.createdAt),"MMM DD, YYYY")),1)]),_:1})]),_:1},8,["value"])])]),_:1}),e(d,{header:"Recent Transactions",class:"mt-2"},{default:a(()=>[o("div",me,[e(T,{value:i.value.recentTransactions,selectionMode:"single",dataKey:"id",onRowSelect:u[1]||(u[1]=t=>l(f).push({name:"admin-transaction",params:{transactionId:t.data.id}})),class:"text-sm min-w-[40rem]"},{default:a(()=>[e(n,{header:"Type"},{body:a(({data:t})=>[o("div",{class:z(["flex items-center gap-1",D(t.transactionType).color])},[e(B,{size:"20",name:D(t.transactionType).icon},null,8,["name"]),o("p",ue,r(l(y)(t.transactionType)),1)],2)]),_:1}),e(n,{field:"user.name",header:"User"}),e(n,{field:"amount",header:"Amount"},{body:a(({data:t})=>[m(" $"+r(t.amountInUSD.toLocaleString()),1)]),_:1}),e(n,{header:"Wire Transfer"},{body:a(({data:t})=>[m(r(t.isWireTransfer?"Yes":"No"),1)]),_:1}),e(n,{header:"Status"},{body:a(({data:t})=>[e(C,{class:"text-xs font-semibold",severity:R(t.status),value:l(y)(t.status)},null,8,["severity","value"])]),_:1}),e(n,{header:"Created On"},{body:a(({data:t})=>[m(r(l(p)(new Date(t.createdAt),"MMM DD, YYYY")),1)]),_:1})]),_:1},8,["value"])])]),_:1})])):O("",!0)])])}}});export{Ie as default};
