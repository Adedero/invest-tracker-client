import{z as I,s as O}from"./index-B0yKO5dZ.js";import{h as f,f as D,N as M,o,c as i,a as t,b as s,k as r,v as p,q as U,H as n,j as H,l as G,r as J,A as K,t as c,s as Q}from"./index-CPQeoj50.js";import{s as W}from"./index-BrlM22-N.js";import{s as X}from"./index-DrOr8a5z.js";import{_ as Y}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-IRMrSdrb.js";import{z as d}from"./index-ans_9-if.js";import{u as Z}from"./index-p30fdSMQ.js";import"./index-57mWwkce.js";import"./index-CyFKcpBt.js";const $=f(I(d.object({fullName:d.string({message:"Full name is required"}).min(2,{message:"Enter a valid name"}).trim(),email:d.string().email({message:"Enter a valid email address"}).trim(),password1:d.string().min(8,{message:"Password must be at least 8 characters"}).trim(),password2:d.string().min(8,{message:"Password must be at least 8 characters"}).trim()}))),ee={class:"w-full md:w-[26rem] h-full md:p-10 md:bg-white dark:bg-transparent"},se={class:"mt-8"},te={class:"mt-2 text-sm text-mute"},ae={class:"mt-5 w-full"},oe={class:"flex flex-col gap-1"},re={key:0,class:"font-medium text-red-500"},le={class:"flex flex-col gap-1"},ie={key:0,class:"font-medium text-red-500"},ne={class:"flex flex-col gap-1"},me={key:0,class:"font-medium text-red-500"},de={class:"flex flex-col gap-1"},ue={key:0,class:"font-medium text-red-500"},pe={key:1,class:"font-medium text-red-500"},ce={class:"text-sm text-mute"},Ve=D({__name:"RegisterView",setup(fe){const _=K(),z=M({fullName:"",email:"",password1:"",password2:""}),v=f(!1),g=f(null),F=async u=>{await Z("auth/register",{loading:v,error:g,config:{method:"POST",withCredentials:!1,body:u,router:_}},e=>{const{user:l}=e;_.push({name:"email-verification",query:{userId:l.id,email:btoa(l.email??""),emailSubject:"Invest Tracker Account Verification"}})})},x=f(!1),L=({valid:u,values:e})=>{if(x.value=!1,!u)return;const{password1:l,password2:m}=e;if(m!==l){x.value=!0;return}F(e)};return(u,e)=>{const l=G,m=J("RouterLink"),T=Y,w=X,y=W,j=Q,q=O;return o(),i("div",ee,[t(l,{size:"24"}),s("header",se,[e[3]||(e[3]=s("h1",{class:"text-3xl md:text-4xl font-semibold"},"Sign Up",-1)),s("p",te,[e[1]||(e[1]=r(" Already got an account? ")),t(m,{to:{name:"login"},class:"text-primary-500 font-semibold hover:underline"},{default:p(()=>e[0]||(e[0]=[r(" Log in ")])),_:1}),e[2]||(e[2]=r(". "))])]),g.value?(o(),U(T,{key:0,error:g.value,class:"mt-3"},null,8,["error"])):n("",!0),s("div",ae,[t(q,{initialValues:z,resolver:H($),validateOnValueUpdate:!0,validateOnBlur:!0,onSubmit:L,class:"flex flex-col gap-4 w-full"},{default:p(a=>{var b,k,N,V,h,B,P,S,C,E,A,R;return[s("div",oe,[e[4]||(e[4]=s("label",{for:"fullName",class:"text-mute text-sm"},"Full Name",-1)),t(w,{id:"fullName",name:"fullName",fluid:""}),(b=a.fullName)!=null&&b.invalid?(o(),i("small",re,c((N=(k=a.fullName)==null?void 0:k.error)==null?void 0:N.message),1)):n("",!0)]),s("div",le,[e[5]||(e[5]=s("label",{for:"email",class:"text-mute text-sm"},"Email Address",-1)),t(w,{id:"email",name:"email",type:"email",fluid:""}),(V=a.email)!=null&&V.invalid?(o(),i("small",ie,c((B=(h=a.email)==null?void 0:h.error)==null?void 0:B.message),1)):n("",!0)]),s("div",ne,[e[6]||(e[6]=s("label",{for:"password",class:"text-mute text-sm"},"Password",-1)),t(y,{"input-id":"password1",name:"password1",fluid:"","toggle-mask":""}),(P=a.password1)!=null&&P.invalid?(o(),i("small",me,c((C=(S=a.password1)==null?void 0:S.error)==null?void 0:C.message),1)):n("",!0)]),s("div",de,[e[7]||(e[7]=s("label",{for:"password",class:"text-mute text-sm"},"Confirm Password",-1)),t(y,{"input-id":"password2",name:"password2",fluid:"","toggle-mask":"",feedback:!1}),(E=a.password2)!=null&&E.invalid?(o(),i("small",ue,c((R=(A=a.password2)==null?void 0:A.error)==null?void 0:R.message),1)):n("",!0),x.value?(o(),i("small",pe," Not a match. Please, confirm your password. ")):n("",!0)]),s("div",null,[s("p",ce,[e[10]||(e[10]=r(" By signing up, you agree to our ")),t(m,{to:{name:"terms-of-use"},class:"text-primary-500 font-semibold hover:underline"},{default:p(()=>e[8]||(e[8]=[r(" terms of use ")])),_:1}),e[11]||(e[11]=r(" and ")),t(m,{to:{name:"privacy-policy"},class:"text-primary-500 font-semibold hover:underline"},{default:p(()=>e[9]||(e[9]=[r(" privacy policy. ")])),_:1})])]),t(j,{loading:v.value,type:"submit",label:"Submit",icon:"pi pi-sign-in"},null,8,["loading"])]}),_:1},8,["initialValues","resolver"])])])}}});export{Ve as default};
