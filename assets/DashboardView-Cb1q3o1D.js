import{f as E,bn as U,a4 as v,bo as H,D as p,h,E as K,o as u,c as T,a as e,b as n,q as M,v as s,H as L,A as O,t as r,j as l,k as c,n as P,K as q}from"./index-k-7ViVgn.js";import{a as z,s as W}from"./index-DUXjdHsK.js";import{s as j}from"./index-Cfn63MK0.js";import{_ as F}from"./VCard.vue_vue_type_script_setup_true_lang-DiPn360S.js";import{_ as G}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-B7HlNIPr.js";import{_ as J}from"./PageLoader-COy97JVn.js";import{_ as Q}from"./VNavbar.vue_vue_type_script_setup_true_lang-HfkB0Wd3.js";import{u as X}from"./index-HWEJQlsh.js";import{t as x}from"./helpers-BF5XYaOm.js";import"./index-DNUhPy6L.js";import"./index-CF-p_Sja.js";import"./index-BaQMZKPQ.js";import"./index-DhLjQS3e.js";import"./index-DpV5ITH2.js";import"./index-Dd8S0VpA.js";const Z={class:"mt-2"},ee={key:2,class:"md:h-[calc(100dvh-8.5rem)] md:overflow-y-auto"},te={class:"grid gap-2 md:grid-cols-3"},ae={class:"text-2xl font-semibold text-right"},se={class:"text-2xl font-semibold text-right"},oe={class:"text-2xl font-semibold text-right"},ne={class:"text-2xl font-semibold text-right"},re={class:"text-2xl font-semibold text-right"},ie={class:"text-2xl font-semibold text-right"},de={class:"w-full overflow-auto"},le={class:"w-full overflow-auto"},ce={class:"text-sm font-medium"},$e=E({__name:"DashboardView",setup(me){const _=O(),$=U("ddd, MMMM DD, YYYY HH:mm:ss aa"),Y=v(H(),$),y=p(()=>Y.value.split(" ")),I=p(()=>{const a=y.value;return`${a[0]} ${a[1]} ${a[2]} ${a[3]}`}),S=p(()=>{const a=y.value;return`${a[4]} ${a[5]}`}),g=h(!1),f=h(),i=h(),b=async()=>{await X("admin/dashboard",{loading:g,error:f,config:{router:_,cache:!0}},a=>{i.value=a})};function w(a){return a==="deposit"?{icon:"arrow_circle_down",color:"text-primary-500"}:a==="withdrawal"?{icon:"arrow_circle_up",color:"text-red-500"}:a==="investment"?{icon:"spa",color:"text-green-500"}:{icon:"payments",color:"text-green-500"}}function N(a){return a==="successful"?"success":a==="pending"?"warn":"danger"}function V(a){return a==="open"?"success":a==="closed"?"info":"danger"}return K(async()=>{await b()}),(a,m)=>{const k=Q,A=J,R=G,d=F,o=z,D=j,C=W,B=q;return u(),T("div",null,[e(k),n("div",Z,[g.value?(u(),M(A,{key:0})):f.value?(u(),M(R,{key:1,error:f.value,request:"GET",onRetry:b},null,8,["error"])):i.value?(u(),T("div",ee,[n("div",te,[e(d,{header:"Users"},{default:s(()=>[n("div",ae,r(i.value.usersCount),1)]),_:1}),e(d,{header:"Admins"},{default:s(()=>[n("div",se,r(i.value.adminsCount),1)]),_:1}),e(d,{header:"Open Investments"},{default:s(()=>[n("div",oe,r(i.value.openInvestmentsCount),1)]),_:1}),e(d,{header:"Currencies"},{default:s(()=>[n("div",ne,r(i.value.currenciesCount),1)]),_:1}),e(d,{header:"Investment Plans"},{default:s(()=>[n("div",re,r(i.value.investmentPlansCount),1)]),_:1}),e(d,{header:I.value},{default:s(()=>[n("div",ie,r(S.value),1)]),_:1},8,["header"])]),e(d,{header:"Recent Investments",class:"mt-2"},{default:s(()=>[n("div",de,[e(C,{value:i.value.recentInvestments,selectionMode:"single",dataKey:"id",onRowSelect:m[0]||(m[0]=t=>l(_).push({name:"admin-investment",params:{investmentId:t.data.id}})),class:"text-sm min-w-[70rem]"},{default:s(()=>[e(o,{field:"investmentName",header:"Investment"}),e(o,{field:"investmentTier",header:"Tier"}),e(o,{header:"Status"},{body:s(({data:t})=>[e(D,{class:"text-xs font-semibold",severity:V(t.status),value:l(x)(t.status)},null,8,["severity","value"])]),_:1}),e(o,{field:"user.name",header:"User"}),e(o,{field:"amount",header:"Amount"},{body:s(({data:t})=>[c(" $"+r(t.initialDeposit.toLocaleString()),1)]),_:1}),e(o,{field:"duration",header:"Duration (days)"}),e(o,{field:"daysCompleted",header:"Days Completed (days)"}),e(o,{header:"Created On"},{body:s(({data:t})=>[c(r(l(v)(new Date(t.createdAt),"MMM DD, YYYY")),1)]),_:1})]),_:1},8,["value"])])]),_:1}),e(d,{header:"Recent Transactions",class:"mt-2"},{default:s(()=>[n("div",le,[e(C,{value:i.value.recentTransactions,selectionMode:"single",dataKey:"id",onRowSelect:m[1]||(m[1]=t=>l(_).push({name:"admin-transaction",params:{transactionId:t.data.id}})),class:"text-sm min-w-[40rem]"},{default:s(()=>[e(o,{header:"Type"},{body:s(({data:t})=>[n("div",{class:P(["flex items-center gap-1",w(t.transactionType).color])},[e(B,{size:"20",name:w(t.transactionType).icon},null,8,["name"]),n("p",ce,r(l(x)(t.transactionType)),1)],2)]),_:1}),e(o,{field:"user.name",header:"User"}),e(o,{field:"amount",header:"Amount"},{body:s(({data:t})=>[c(" $"+r(t.amountInUSD.toLocaleString()),1)]),_:1}),e(o,{header:"Wire Transfer"},{body:s(({data:t})=>[c(r(t.isWireTransfer?"Yes":"No"),1)]),_:1}),e(o,{header:"Status"},{body:s(({data:t})=>[e(D,{class:"text-xs font-semibold",severity:N(t.status),value:l(x)(t.status)},null,8,["severity","value"])]),_:1}),e(o,{header:"Created On"},{body:s(({data:t})=>[c(r(l(v)(new Date(t.createdAt),"MMM DD, YYYY")),1)]),_:1})]),_:1},8,["value"])])]),_:1})])):L("",!0)])])}}});export{$e as default};
