import{_ as W}from"./VCard.vue_vue_type_script_setup_true_lang-DiPn360S.js";import{_ as q}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-B7HlNIPr.js";import{f as L,aA as O,u as E,h as v,E as M,J as G,o as y,c as A,a as t,v as o,j as r,H as S,A as Y,O as z,r as H,b as s,t as c,k as m,q as J,K,s as P,p as F,B as Q}from"./index-k-7ViVgn.js";import{a as X,s as Z}from"./index-BNyj08WI.js";import{s as ee}from"./index-CF-p_Sja.js";import{_ as te}from"./VNavbar.vue_vue_type_script_setup_true_lang-HfkB0Wd3.js";import{u as se}from"./index-HWEJQlsh.js";import"./index-BaQMZKPQ.js";import"./index-DhLjQS3e.js";import"./helpers-BF5XYaOm.js";const le={class:"h-full"},ae={class:"flex flex-col items-center justify-center text-center"},oe={class:"mt-4"},re={key:0,class:"flex items-center justify-center py-4"},ne={class:"text-center"},ie={class:"text-2xl font-semibold"},de={class:"flex flex-col items-center justify-center gap-1"},ue=["src"],ce={class:"text-center font-semibold"},me={class:"grid gap-3 w-full"},pe={class:"grid gap-1"},fe={class:"grid gap-1"},_e={class:"grid gap-1"},we={class:"grid gap-1"},be={class:"w-5 rounded-full overlow-hidden"},ge=["src"],ve={class:"grid gap-1"},ye={class:"text-mute font-semibold text-sm"},De={class:"grid gap-1"},xe={class:"text-mute font-semibold text-sm"},he={class:"grid gap-1"},ke={class:"grid gap-1"},Ce={class:"font-normal text-center"},$e={class:"font-semibold text-lg"},Ae={class:"mt-3 text-sm"},Se={class:"mt-3 w-full grid gap-2"},Oe=L({__name:"ConfirmWithdrawalView",setup(Ue){const D=Y(),l=O(),U=E(),w=v(!1),x=v(!1),b=v(null),B=async()=>{var e,_,u,p;const g={userId:U.user.id,amountInUSD:l.depositDetails.amount,amountInCurrency:l.depositDetails.result,charge:(e=l.depositDetails.currency)==null?void 0:e.withdrawalCharge,actualAmountInUSD:(l.depositDetails.amount??0)-(((_=l.depositDetails.currency)==null?void 0:_.withdrawalCharge)??0),rate:(u=l.depositDetails.currency)==null?void 0:u.rate,transactionType:"withdrawal",status:"pending",currency:`${(p=l.depositDetails.currency)==null?void 0:p.name}`,isWireTransfer:!1,description:"",withdrawalWalletAddress:l.depositDetails.walletAddress,withdrawalWalletNetwork:l.depositDetails.network};await se("user/transactions",{loading:x,error:b,config:{method:"POST",router:D,body:{data:g,addUserRelation:!0}}},()=>{w.value=!0})};return M(()=>{Object.keys(l.depositDetails).length||D.push({name:"withdraw"})}),G(()=>{l.depositDetails={}}),(g,e)=>{const _=te,u=K,p=P,I=z,N=F,n=X,i=ee,d=Z,V=Q,j=H("RouterLink"),R=q,T=W;return y(),A("div",le,[t(_),t(I,{visible:w.value,"onUpdate:visible":e[1]||(e[1]=f=>w.value=f),modal:"",header:"Deposit Request",class:"max-w-[90dvw] md:w-96 dark:bg-slate-900",closable:!1},{default:o(()=>[s("div",ae,[t(u,{prime:"",name:"check-circle",size:"40",class:"text-emerald-500"}),e[2]||(e[2]=s("p",{class:"mt-4"},"Your withdrawal request has been received.",-1)),e[3]||(e[3]=s("p",null," The amount will be deducted from your account balance and your wallet address will be credited within 24 hours. ",-1))]),s("div",oe,[t(p,{onClick:e[0]||(e[0]=f=>g.$router.push({name:"wallet-history"})),label:"Continue",fluid:""})])]),_:1},8,["visible"]),Object.keys(r(l).depositDetails).length?(y(),A("div",re,[t(T,{class:"w-full max-w-[28rem] md:!p-6"},{default:o(()=>{var f,h,k,C;return[s("div",ne,[s("p",ie,"$"+c(r(l).depositDetails.walletBalance),1),e[4]||(e[4]=s("p",null,"Account Balance",-1))]),t(N),s("div",de,[s("img",{src:(f=r(l).depositDetails.currency)==null?void 0:f.image,width:"40"},null,8,ue),s("p",ce,c((h=r(l).depositDetails.currency)==null?void 0:h.name)+" Withdrawal ",1),s("div",me,[s("div",pe,[e[6]||(e[6]=s("label",{class:"text-mute font-semibold text-sm"},"Amount (USD)",-1)),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>{var a;return[t(n,null,{default:o(()=>e[5]||(e[5]=[m("$")])),_:1}),t(i,{value:(a=r(l).depositDetails.amount)==null?void 0:a.toLocaleString(),readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]}),_:1})]),s("div",fe,[e[8]||(e[8]=s("label",{class:"text-mute font-semibold text-sm"},"Charge (USD)",-1)),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>{var a;return[t(n,null,{default:o(()=>e[7]||(e[7]=[m("$")])),_:1}),t(i,{value:(a=r(l).depositDetails.currency)==null?void 0:a.withdrawalCharge.toLocaleString(),readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]}),_:1})]),s("div",_e,[e[10]||(e[10]=s("label",{class:"text-mute font-semibold text-sm"},"Actual Amount (USD)",-1)),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>{var a;return[t(n,null,{default:o(()=>e[9]||(e[9]=[m("$")])),_:1}),t(i,{value:(r(l).depositDetails.amount??0)-(((a=r(l).depositDetails.currency)==null?void 0:a.withdrawalCharge)??0),readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]}),_:1})]),s("div",we,[e[11]||(e[11]=s("label",{class:"text-mute font-semibold text-sm"},"Currency",-1)),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>{var a;return[t(n,null,{default:o(()=>{var $;return[s("div",be,[s("img",{src:($=r(l).depositDetails.currency)==null?void 0:$.image,class:"w-full h-full object-cover"},null,8,ge)])]}),_:1}),t(i,{value:(a=r(l).depositDetails.currency)==null?void 0:a.name,readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]}),_:1})]),s("div",ve,[s("label",ye,"Rate (1 "+c((k=r(l).depositDetails.currency)==null?void 0:k.abbr)+" to USD)",1),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>{var a;return[t(n,null,{default:o(()=>[t(u,{prime:"",name:"arrow-right-arrow-left"})]),_:1}),t(i,{value:(a=r(l).depositDetails.currency)==null?void 0:a.rate,readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]}),_:1})]),s("div",De,[s("label",xe,"Amount ("+c((C=r(l).depositDetails.currency)==null?void 0:C.abbr)+")",1),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>[t(n,null,{default:o(()=>{var a;return[m(c((a=r(l).depositDetails.currency)==null?void 0:a.symbol),1)]}),_:1}),t(i,{value:r(l).depositDetails.result,readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]),_:1})]),s("div",he,[e[12]||(e[12]=s("label",{class:"text-mute font-semibold text-sm"},"Your Wallet Address",-1)),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>[t(n,null,{default:o(()=>[t(u,{prime:"",name:"wallet"})]),_:1}),t(i,{value:r(l).depositDetails.walletAddress,readonly:"",class:"w-full *:dark:bg-slate-800"},null,8,["value"])]),_:1})]),s("div",ke,[e[13]||(e[13]=s("label",{class:"text-mute font-semibold text-sm"},"Network",-1)),t(d,{class:"w-full *:dark:bg-slate-800"},{default:o(()=>[t(n,null,{default:o(()=>[t(u,{prime:"",name:"share-alt"})]),_:1}),t(i,{value:r(l).depositDetails.network,class:"w-full *:dark:bg-slate-800"},null,8,["value"])]),_:1})])]),t(V,{class:"mt-2"},{default:o(()=>{var a;return[s("p",Ce,[s("span",$e,c((a=r(l).depositDetails.currency)==null?void 0:a.abbr)+" "+c(r(l).depositDetails.result),1),e[14]||(e[14]=m(" will be sent to your provided wallet address in 24 hours. "))])]}),_:1}),s("div",Ae,[s("p",null,[e[16]||(e[16]=m(" Need help? ")),t(j,{to:{name:"contact"},class:"text-primary-500 hover:underline font-semibold"},{default:o(()=>e[15]||(e[15]=[m("Contact us")])),_:1})])]),s("div",Se,[b.value?(y(),J(R,{key:0,error:b.value},null,8,["error"])):S("",!0),t(p,{onClick:B,loading:x.value,label:"Complete withdrawal request",fluid:""},null,8,["loading"])])])]}),_:1})])):S("",!0)])}}});export{Oe as default};
