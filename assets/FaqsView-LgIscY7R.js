import{_ as $}from"./VCard.vue_vue_type_script_setup_true_lang-BEXAQp5x.js";import{_ as A}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-BjwNYmRP.js";import{_ as B}from"./PageLoader-CZ-Kt3Ck.js";import{_ as V}from"./VNavbar.vue_vue_type_script_setup_true_lang-14B8tRi_.js";import{f as D,A as q,ag as N,af as j,h as c,o,c as p,I as z,a as i,s as w,E as I,v as y,b as n,q as h,F as L,i as P,H as Q,t as b,j as C}from"./index-CW21LfwU.js";import{u as x}from"./index-Bco5Uctx.js";import"./helpers-BF5XYaOm.js";const S=D({__name:"FaqDeleter",props:{id:{}},emits:["delete"],setup(f,{emit:l}){const d=l,r=q(),e=N(),m=j(),u=c(!1),t=c(null),s=async()=>{if(await x(`admin/faqs/${f.id}`,{loading:u,error:t,config:{router:r,method:"DELETE"}},()=>{e.add({severity:"success",summary:"Success",detail:"FAQ item deleted",life:3e3}),d("delete",f.id)}),t.value){e.add({severity:"error",summary:"Error",detail:t.value.message,life:6e3});return}},_=()=>{m.require({message:"Are you sure you want to proceed?",header:"Delete FAQ item",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Delete",severity:"danger"},accept:()=>{s()}})};return(v,k)=>{const g=w;return o(),p("div",null,[z(v.$slots,"default",{},()=>[i(g,{onClick:_,loading:u.value,label:"Delete",icon:"pi pi-trash",severity:"danger",size:"small"},null,8,["loading"])])])}}}),T={class:"flex items-center gap-2"},M={class:"text-primary-500 font-semibold"},R={class:"mt-2 md:h-[calc(100dvh-9rem)]"},G={key:2,class:"h-full w-full overflow-y-auto"},H={class:"grid gap-4"},J={class:"line-clamp-2"},K={class:"mt-2"},O={class:"flex items-center gap-2 justify-end"},se=D({__name:"FaqsView",setup(f){const l=q(),d=c(!1),r=c(null),e=c(null),m=async()=>{await x("admin/faqs",{loading:d,error:r,config:{router:l,cache:!0}},t=>{e.value=t.data})},u=t=>{e.value&&(e.value=e.value.filter(s=>s.id!==t))};return I(async()=>{await m()}),(t,s)=>{const _=w,v=V,k=B,g=A,E=$;return o(),p("div",null,[i(v,null,{left:y(()=>s[1]||(s[1]=[n("p",{class:"font-semibold text-primary-500 text-lg"},"FAQs",-1)])),right:y(()=>{var a;return[n("div",T,[n("p",M,b((a=e.value)==null?void 0:a.length),1),i(_,{onClick:s[0]||(s[0]=F=>C(l).push({name:"admin-faq-manager"})),label:"New",icon:"pi pi-plus",size:"small"})])]}),_:1}),n("div",R,[d.value?(o(),h(k,{key:0})):r.value?(o(),h(g,{key:1,error:r.value,request:"GET",onRetry:m,closable:""},null,8,["error"])):e.value?(o(),p("div",G,[n("div",H,[(o(!0),p(L,null,P(e.value,a=>(o(),h(E,{key:a.id,header:a.title},{default:y(()=>[n("div",J,b(a.description),1),n("div",K,[n("div",O,[i(_,{onClick:F=>C(l).push({name:"admin-faq-manager",params:{faqId:a.id}}),label:"Edit",icon:"pi pi-file-edit",severity:"secondary",size:"small"},null,8,["onClick"]),i(S,{id:a.id,onDelete:u},null,8,["id"])])])]),_:2},1032,["header"]))),128))])])):Q("",!0)])])}}});export{se as default};
