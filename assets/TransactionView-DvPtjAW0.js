import{_ as it}from"./VCard.vue_vue_type_script_setup_true_lang-BEXAQp5x.js";import{f as at,h as v,E as ot,o as w,c as b,a as p,b as c,q as F,v as M,H as S,A as ct,r as lt,t as f,j as R,a4 as V,k as U,l as ut,p as ft,s as mt}from"./index-CW21LfwU.js";import{s as dt}from"./index-Diq0yfHp.js";import{_ as ht}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-BjwNYmRP.js";import{_ as gt}from"./PageLoader-CZ-Kt3Ck.js";import{_ as pt}from"./VNavbar.vue_vue_type_script_setup_true_lang-14B8tRi_.js";import{u as yt}from"./index-Bco5Uctx.js";import{t as j}from"./helpers-BF5XYaOm.js";function wt(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),s=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(s),n.body.appendChild(r),e&&(s.href=e),r.href=t,r.href}const xt=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function x(t){const e=[];for(let n=0,s=t.length;n<s;n++)e.push(t[n]);return e}function T(t,e){const s=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return s?parseFloat(s.replace("px","")):0}function bt(t){const e=T(t,"border-left-width"),n=T(t,"border-right-width");return t.clientWidth+e+n}function vt(t){const e=T(t,"border-top-width"),n=T(t,"border-bottom-width");return t.clientHeight+e+n}function z(t,e={}){const n=e.width||bt(t),s=e.height||vt(t);return{width:n,height:s}}function _t(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const d=16384;function St(t){(t.width>d||t.height>d)&&(t.width>d&&t.height>d?t.width>t.height?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d):t.width>d?(t.height*=d/t.width,t.width=d):(t.width*=d/t.height,t.height=d))}function $(t){return new Promise((e,n)=>{const s=new Image;s.decode=()=>e(s),s.onload=()=>e(s),s.onerror=n,s.crossOrigin="anonymous",s.decoding="async",s.src=t})}async function Et(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Rt(t,e,n){const s="http://www.w3.org/2000/svg",r=document.createElementNS(s,"svg"),i=document.createElementNS(s,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${e} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),r.appendChild(i),i.appendChild(t),Et(r)}const m=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||m(n,e)};function Ct(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Tt(t){return x(t).map(e=>{const n=t.getPropertyValue(e),s=t.getPropertyPriority(e);return`${e}: ${n}${s?" !important":""};`}).join(" ")}function $t(t,e,n){const s=`.${t}:${e}`,r=n.cssText?Ct(n):Tt(n);return document.createTextNode(`${s}{${r}}`)}function H(t,e,n){const s=window.getComputedStyle(t,n),r=s.getPropertyValue("content");if(r===""||r==="none")return;const i=xt();try{e.className=`${e.className} ${i}`}catch{return}const a=document.createElement("style");a.appendChild($t(i,n,s)),e.appendChild(a)}function kt(t,e){H(t,e,":before"),H(t,e,":after")}const O="application/font-woff",W="image/jpeg",Pt={woff:O,woff2:O,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:W,jpeg:W,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Dt(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function A(t){const e=Dt(t).toLowerCase();return Pt[e]||""}function At(t){return t.split(/,/)[1]}function D(t){return t.search(/^(data:)/)!==-1}function Lt(t,e){return`data:${e};base64,${t}`}async function X(t,e,n){const s=await fetch(t,e);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const r=await s.blob();return new Promise((i,a)=>{const o=new FileReader;o.onerror=a,o.onloadend=()=>{try{i(n({res:s,result:o.result}))}catch(u){a(u)}},o.readAsDataURL(r)})}const P={};function It(t,e,n){let s=t.replace(/\?.*/,"");return n&&(s=t),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),e?`[${e}]${s}`:s}async function L(t,e,n){const s=It(t,e,n.includeQueryParams);if(P[s]!=null)return P[s];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let r;try{const i=await X(t,n.fetchRequestInit,({res:a,result:o})=>(e||(e=a.headers.get("Content-Type")||""),At(o)));r=Lt(i,e)}catch(i){r=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${t}`;i&&(a=typeof i=="string"?i:i.message),a&&console.warn(a)}return P[s]=r,r}async function Ft(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):$(e)}async function Mt(t,e){if(t.currentSrc){const i=document.createElement("canvas"),a=i.getContext("2d");i.width=t.clientWidth,i.height=t.clientHeight,a==null||a.drawImage(t,0,0,i.width,i.height);const o=i.toDataURL();return $(o)}const n=t.poster,s=A(n),r=await L(n,s,e);return $(r)}async function Vt(t){var e;try{if(!((e=t==null?void 0:t.contentDocument)===null||e===void 0)&&e.body)return await k(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)}async function Ut(t,e){return m(t,HTMLCanvasElement)?Ft(t):m(t,HTMLVideoElement)?Mt(t,e):m(t,HTMLIFrameElement)?Vt(t):t.cloneNode(!1)}const jt=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function Ht(t,e,n){var s,r;let i=[];return jt(t)&&t.assignedNodes?i=x(t.assignedNodes()):m(t,HTMLIFrameElement)&&(!((s=t.contentDocument)===null||s===void 0)&&s.body)?i=x(t.contentDocument.body.childNodes):i=x(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes),i.length===0||m(t,HTMLVideoElement)||await i.reduce((a,o)=>a.then(()=>k(o,n)).then(u=>{u&&e.appendChild(u)}),Promise.resolve()),e}function Ot(t,e){const n=e.style;if(!n)return;const s=window.getComputedStyle(t);s.cssText?(n.cssText=s.cssText,n.transformOrigin=s.transformOrigin):x(s).forEach(r=>{let i=s.getPropertyValue(r);r==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),m(t,HTMLIFrameElement)&&r==="display"&&i==="inline"&&(i="block"),r==="d"&&e.getAttribute("d")&&(i=`path(${e.getAttribute("d")})`),n.setProperty(r,i,s.getPropertyPriority(r))})}function Wt(t,e){m(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),m(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Bt(t,e){if(m(t,HTMLSelectElement)){const n=e,s=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));s&&s.setAttribute("selected","")}}function qt(t,e){return m(e,Element)&&(Ot(t,e),kt(t,e),Wt(t,e),Bt(t,e)),e}async function Gt(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const s={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const u=t.querySelector(o),g=document.querySelector(o);!u&&g&&!s[o]&&(s[o]=await k(g,e,!0))}}const r=Object.values(s);if(r.length){const i="http://www.w3.org/1999/xhtml",a=document.createElementNS(i,"svg");a.setAttribute("xmlns",i),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const o=document.createElementNS(i,"defs");a.appendChild(o);for(let u=0;u<r.length;u++)o.appendChild(r[u]);t.appendChild(a)}return t}async function k(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(s=>Ut(s,e)).then(s=>Ht(t,s,e)).then(s=>qt(t,s)).then(s=>Gt(s,e))}const K=/url\((['"]?)([^'"]+?)\1\)/g,Yt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,zt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Xt(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Kt(t){const e=[];return t.replace(K,(n,s,r)=>(e.push(r),n)),e.filter(n=>!D(n))}async function Jt(t,e,n,s,r){try{const i=n?wt(e,n):e,a=A(e);let o;return r||(o=await L(i,a,s)),t.replace(Xt(e),`$1${o}$3`)}catch{}return t}function Qt(t,{preferredFontFormat:e}){return e?t.replace(zt,n=>{for(;;){const[s,,r]=Yt.exec(n)||[];if(!r)return"";if(r===e)return`src: ${s};`}}):t}function J(t){return t.search(K)!==-1}async function Q(t,e,n){if(!J(t))return t;const s=Qt(t,n);return Kt(s).reduce((i,a)=>i.then(o=>Jt(o,a,e,n)),Promise.resolve(s))}async function C(t,e,n){var s;const r=(s=e.style)===null||s===void 0?void 0:s.getPropertyValue(t);if(r){const i=await Q(r,null,n);return e.style.setProperty(t,i,e.style.getPropertyPriority(t)),!0}return!1}async function Zt(t,e){await C("background",t,e)||await C("background-image",t,e),await C("mask",t,e)||await C("mask-image",t,e)}async function Nt(t,e){const n=m(t,HTMLImageElement);if(!(n&&!D(t.src))&&!(m(t,SVGImageElement)&&!D(t.href.baseVal)))return;const s=n?t.src:t.href.baseVal,r=await L(s,A(s),e);await new Promise((i,a)=>{t.onload=i,t.onerror=a;const o=t;o.decode&&(o.decode=i),o.loading==="lazy"&&(o.loading="eager"),n?(t.srcset="",t.src=r):t.href.baseVal=r})}async function te(t,e){const s=x(t.childNodes).map(r=>Z(r,e));await Promise.all(s).then(()=>t)}async function Z(t,e){m(t,Element)&&(await Zt(t,e),await Nt(t,e),await te(t,e))}function ee(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const s=e.style;return s!=null&&Object.keys(s).forEach(r=>{n[r]=s[r]}),t}const B={};async function q(t){let e=B[t];if(e!=null)return e;const s=await(await fetch(t)).text();return e={url:t,cssText:s},B[t]=e,e}async function G(t,e){let n=t.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let o=a.replace(s,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),X(o,e.fetchRequestInit,({result:u})=>(n=n.replace(a,`url(${u})`),[a,u]))});return Promise.all(i).then(()=>n)}function Y(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let s=t.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=r.exec(s);if(u===null)break;e.push(u[0])}s=s.replace(r,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(a,"gi");for(;;){let u=i.exec(s);if(u===null){if(u=o.exec(s),u===null)break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;e.push(u[0])}return e}async function ne(t,e){const n=[],s=[];return t.forEach(r=>{if("cssRules"in r)try{x(r.cssRules||[]).forEach((i,a)=>{if(i.type===CSSRule.IMPORT_RULE){let o=a+1;const u=i.href,g=q(u).then(y=>G(y,e)).then(y=>Y(y).forEach(h=>{try{r.insertRule(h,h.startsWith("@import")?o+=1:r.cssRules.length)}catch(l){console.error("Error inserting rule from remote css",{rule:h,error:l})}})).catch(y=>{console.error("Error loading remote css",y.toString())});s.push(g)}})}catch(i){const a=t.find(o=>o.href==null)||document.styleSheets[0];r.href!=null&&s.push(q(r.href).then(o=>G(o,e)).then(o=>Y(o).forEach(u=>{a.insertRule(u,r.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",i)}}),Promise.all(s).then(()=>(t.forEach(r=>{if("cssRules"in r)try{x(r.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${r.href}`,i)}}),n))}function se(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>J(e.style.getPropertyValue("src")))}async function re(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=x(t.ownerDocument.styleSheets),s=await ne(n,e);return se(s)}async function ie(t,e){const n=await re(t,e);return(await Promise.all(n.map(r=>{const i=r.parentStyleSheet?r.parentStyleSheet.href:null;return Q(r.cssText,i,e)}))).join(`
`)}async function ae(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await ie(t,e);if(n){const s=document.createElement("style"),r=document.createTextNode(n);s.appendChild(r),t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)}}async function oe(t,e={}){const{width:n,height:s}=z(t,e),r=await k(t,e,!0);return await ae(r,e),await Z(r,e),ee(r,e),await Rt(r,n,s)}async function ce(t,e={}){const{width:n,height:s}=z(t,e),r=await oe(t,e),i=await $(r),a=document.createElement("canvas"),o=a.getContext("2d"),u=e.pixelRatio||_t(),g=e.canvasWidth||n,y=e.canvasHeight||s;return a.width=g*u,a.height=y*u,e.skipAutoScale||St(a),a.style.width=`${g}`,a.style.height=`${y}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,a.width,a.height)),o.drawImage(i,0,0,a.width,a.height),a}async function le(t,e={}){return(await ce(t,e)).toDataURL()}const ue={class:"h-full"},fe={class:"flex items-center justify-center py-4"},me={key:1,class:"w-full max-w-[28rem]"},de={class:"flex-col-center gap-2 text-center"},he={class:"font-medium"},ge={class:"text-2xl font-semibold"},pe={class:"mt-2 grid gap-2 text-sm"},ye={class:"flex items-center justify-between gap-2"},we={class:"text-right"},xe={class:"flex items-center justify-between gap-2"},be={class:"text-right"},ve={class:"flex items-center justify-between gap-2"},_e={class:"text-right"},Se={class:"flex items-center justify-between gap-2"},Ee={class:"text-right"},Re={class:"flex items-center justify-between gap-2"},Ce={class:"text-mute"},Te={class:"text-right"},$e={key:0,class:"contents"},ke={class:"flex items-center justify-between gap-2"},Pe={class:"text-right"},De={class:"flex items-center justify-between gap-2"},Ae={class:"text-right"},Le={class:"flex items-center justify-between gap-2"},Ie={class:"text-right"},Fe={class:"flex items-center justify-between gap-2"},Me={class:"text-right"},Ve={class:"flex items-center justify-between gap-2"},Ue={class:"text-right"},je={key:1,class:"flex items-center justify-between gap-3 flex-wrap"},He={class:"text-right"},Oe={key:0},We={class:"whitespace-pre-wrap text-sm"},Be={key:1},qe={class:"mt-2 grid gap-2 text-sm"},Ge={key:2},en=at({__name:"TransactionView",setup(t){const e=ct(),n=v(),s=v(!1),r=v(),i=async h=>{await yt(`user/transactions/${h}`,{loading:s,error:r,config:{router:e,cache:!0}},l=>{n.value=l.data})},a={pending:{value:"warn",icon:"pi pi-clock"},successful:{value:"success",icon:"pi pi-check"},failed:{value:"danger",icon:"pi pi-times"}},o=v(),u=v(!1),g=v(null),y=async()=>{var h;if(g.value=null,!o.value){g.value="Something went wrong. Try again later.";return}u.value=!0;try{const l=await le(o.value),_=document.createElement("a");_.download=`transaction-${(h=n.value)==null?void 0:h.id}`,_.href=l,_.click()}catch(l){g.value=l.message}finally{u.value=!1}};return ot(async()=>{const{id:h}=e.currentRoute.value.params;await i(h.toString())}),(h,l)=>{const _=pt,N=gt,tt=ht,et=ut,I=dt,E=ft,nt=lt("RouterLink"),st=mt,rt=it;return w(),b("div",ue,[p(_),c("div",fe,[s.value?(w(),F(N,{key:0})):r.value?(w(),b("div",me,[p(tt,{error:r.value,request:"GET",onRetry:l[0]||(l[0]=Ye=>i(h.$route.params.id.toString()))},null,8,["error"])])):n.value?(w(),b("div",{key:2,ref_key:"el",ref:o},[p(rt,{class:"w-full max-w-[28rem] md:!p-6"},{default:M(()=>[c("div",de,[p(et),c("p",he,f(`${n.value.currency} ${R(j)(n.value.transactionType)}`),1),n.value.isWireTransfer?(w(),F(I,{key:0,value:"Wire Transfer",icon:"pi pi-bolt"})):S("",!0),c("p",ge,"$"+f(n.value.amountInUSD.toLocaleString()),1),p(I,{value:R(j)(n.value.status),severity:a[n.value.status].value,icon:a[n.value.status].icon},null,8,["value","severity","icon"])]),p(E),l[18]||(l[18]=c("p",{class:"font-semibold"},"Transaction Details",-1)),c("div",pe,[c("div",ye,[l[1]||(l[1]=c("p",{class:"text-mute"},"Charge (USD)",-1)),c("p",we,"$"+f(n.value.charge),1)]),c("div",xe,[l[2]||(l[2]=c("p",{class:"text-mute"},"Actual Amount (USD)",-1)),c("p",be,"$"+f(n.value.actualAmountInUSD),1)]),c("div",ve,[l[3]||(l[3]=c("p",{class:"text-mute"},"Currency",-1)),c("p",_e,f(n.value.currency),1)]),c("div",Se,[l[4]||(l[4]=c("p",{class:"text-mute"},"Rate",-1)),c("p",Ee,f(n.value.rate),1)]),c("div",Re,[c("p",Ce,"Amount ("+f(n.value.currency)+")",1),c("p",Te,f(n.value.amountInCurrency),1)]),n.value.transactionType==="withdrawal"?(w(),b("div",$e,[c("div",ke,[l[6]||(l[6]=c("p",{class:"text-mute"},"Credited to",-1)),c("div",Pe,[l[5]||(l[5]=c("p",null,"Wallet Address:",-1)),c("p",null,f(n.value.withdrawalWalletAddress),1)])]),c("div",De,[l[7]||(l[7]=c("p",{class:"text-mute"},"Network",-1)),c("p",Ae,f(n.value.withdrawalWalletNetwork),1)])])):S("",!0),c("div",Le,[l[8]||(l[8]=c("p",{class:"text-mute"},"Transaction ID",-1)),c("p",Ie,f(n.value.id),1)]),c("div",Fe,[l[9]||(l[9]=c("p",{class:"text-mute"},"Transaction Date",-1)),c("p",Me,f(R(V)(n.value.createdAt,"MMM DD, YYYY hh:mm:ss aa",{locales:"en-us"})),1)]),c("div",Ve,[l[10]||(l[10]=c("p",{class:"text-mute"},"Approval Date",-1)),c("p",Ue,f(n.value.approvedAt?R(V)(n.value.createdAt,"MMM DD, YYYY hh:mm:ss aa",{locales:"en-us"}):"Not Available"),1)]),n.value.status==="failed"?(w(),b("div",je,[l[11]||(l[11]=c("p",{class:"text-mute"},"Failure Reason",-1)),c("p",He,f(n.value.failureReason),1)])):S("",!0)]),n.value.description?(w(),b("div",Oe,[p(E),l[12]||(l[12]=c("p",{class:"font-semibold"},"Description",-1)),c("p",We,f(n.value.description),1)])):S("",!0),u.value?(w(),b("div",Ge,[p(E),l[16]||(l[16]=c("p",{class:"font-semibold"},"Invest Tracker",-1)),l[17]||(l[17]=c("p",{class:"mt-2 grid gap-2 text-xs text-mute"}," Track your investments like a pro with Invest Tracker! Our platform helps you effortlessly manage portfolios, monitor growth, and stay informed with real-time updatesâ€”all in one intuitive dashboard. Take control of your financial future today! ",-1))])):(w(),b("div",Be,[p(E),l[15]||(l[15]=c("p",{class:"font-semibold"},"More Actions",-1)),c("div",qe,[c("p",null,[l[14]||(l[14]=U(" Got any problems? ")),p(nt,{to:{name:"contact"},class:"text-primary-500 hover:underline font-semibold"},{default:M(()=>l[13]||(l[13]=[U("Contact us")])),_:1})]),p(st,{onClick:y,label:"Download",icon:"pi pi-download",fluid:""})])]))]),_:1})],512)):S("",!0)])])}}});export{en as default};
